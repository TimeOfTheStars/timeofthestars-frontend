<template>
    <div class="min-h-screen bg-gray-900 text-white">
        <Header />

        <!-- Success Message -->
        <div v-if="isSubmitted" class="py-20 px-4">
            <div class="max-w-2xl mx-auto text-center">
                <div
                    class="bg-gray-800 rounded-2xl p-12 border border-gray-700"
                >
                    <div class="text-6xl mb-6">üéâ</div>
                    <h1 class="text-3xl font-bold mb-4 text-gradient">
                        –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!
                    </h1>
                    <p class="text-gray-300 mb-8">
                        –°–ø–∞—Å–∏–±–æ –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–º–∞–Ω–¥—ã "{{
                            formData.teamName
                        }}". –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –¥–ª—è
                        –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è.
                    </p>
                    <div class="bg-gray-700 rounded-xl p-6 mb-8">
                        <h3 class="font-semibold mb-4">–ß—Ç–æ –¥–∞–ª—å—à–µ?</h3>
                        <ul class="text-left space-y-2 text-gray-300">
                            <li class="flex items-center gap-2">
                                <span class="text-green-400">‚úì</span>
                                –ü—Ä–æ–≤–µ—Ä–∏–º –≤–∞—à—É –∑–∞—è–≤–∫—É
                            </li>
                            <li class="flex items-center gap-2">
                                <span class="text-blue-400">üìû</span>
                                –°–≤—è–∂–µ–º—Å—è —Å –∫–∞–ø–∏—Ç–∞–Ω–æ–º –∫–æ–º–∞–Ω–¥—ã
                            </li>
                            <li class="flex items-center gap-2">
                                <span class="text-yellow-400">üìã</span>
                                –û—Ç–ø—Ä–∞–≤–∏–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —É—á–∞—Å—Ç–∏—è
                            </li>
                            <li class="flex items-center gap-2">
                                <span class="text-purple-400">üèí</span>
                                –í–∫–ª—é—á–∏–º –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–æ–≤
                            </li>
                        </ul>
                    </div>
                    <RouterLink
                        to="/"
                        class="bg-gradient-to-r from-primary-blue to-primary-red text-white px-8 py-3 rounded-xl font-semibold hover:opacity-90 transition-opacity inline-block"
                    >
                        –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                    </RouterLink>
                </div>
            </div>
        </div>

        <!-- Registration Form -->
        <div v-else>
            <!-- Header Section -->
            <section class="relative overflow-hidden">
                <div
                    class="absolute inset-0 bg-gradient-to-br from-primary-blue/20 to-primary-red/20"
                ></div>
                <div class="gradient-bg py-16 px-4 relative">
                    <div class="max-w-4xl mx-auto text-center">
                        <div class="text-6xl mb-6">üèí</div>
                        <h1
                            class="text-4xl md:text-5xl font-bold mb-4 text-white"
                        >
                            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
                        </h1>
                        <p class="text-xl text-white/90 max-w-2xl mx-auto">
                            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ TIME OF THE STARS –∏ —Å—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç—å—é
                            –ª—É—á—à–µ–π –ª—é–±–∏—Ç–µ–ª—å—Å–∫–æ–π —Ö–æ–∫–∫–µ–π–Ω–æ–π –ª–∏–≥–∏!
                        </p>
                    </div>
                </div>
            </section>

            <!-- Form Section -->
            <section class="py-16 px-4">
                <div class="max-w-4xl mx-auto">
                    <form @submit.prevent="handleSubmit" class="space-y-8">
                        <!-- Team Information -->
                        <div
                            class="bg-gray-800 rounded-xl p-8 border border-gray-700"
                        >
                            <h2
                                class="text-2xl font-bold mb-6 flex items-center gap-2"
                            >
                                <span class="text-3xl">üèí</span>
                                –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–µ
                            </h2>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã *
                                    </label>
                                    <input
                                        type="text"
                                        v-model="formData.teamName"
                                        @input="clearError('teamName')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            {
                                                'border-red-500':
                                                    errors.teamName,
                                            },
                                        ]"
                                        placeholder="–•–ö –ù–∞–∑–≤–∞–Ω–∏–µ"
                                    />
                                    <p
                                        v-if="errors.teamName"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.teamName }}
                                    </p>
                                </div>

                                <div>
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        –ì–æ—Ä–æ–¥ *
                                    </label>
                                    <input
                                        type="text"
                                        v-model="formData.city"
                                        @input="clearError('city')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            { 'border-red-500': errors.city },
                                        ]"
                                        placeholder="–Ø—Ä–æ—Å–ª–∞–≤–ª—å"
                                    />
                                    <p
                                        v-if="errors.city"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.city }}
                                    </p>
                                </div>

                                <div>
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ *
                                    </label>
                                    <select
                                        v-model="formData.playersCount"
                                        @change="clearError('playersCount')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            {
                                                'border-red-500':
                                                    errors.playersCount,
                                            },
                                        ]"
                                    >
                                        <option value="">
                                            –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
                                        </option>
                                        <option value="15-18">
                                            15-18 –∏–≥—Ä–æ–∫–æ–≤
                                        </option>
                                        <option value="19-22">
                                            19-22 –∏–≥—Ä–æ–∫–∞
                                        </option>
                                        <option value="23-25">
                                            23-25 –∏–≥—Ä–æ–∫–æ–≤
                                        </option>
                                        <option value="25+">
                                            –ë–æ–ª–µ–µ 25 –∏–≥—Ä–æ–∫–æ–≤
                                        </option>
                                    </select>
                                    <p
                                        v-if="errors.playersCount"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.playersCount }}
                                    </p>
                                </div>

                                <div>
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        –£—Ä–æ–≤–µ–Ω—å –æ–ø—ã—Ç–∞ *
                                    </label>
                                    <select
                                        v-model="formData.experience"
                                        @change="clearError('experience')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            {
                                                'border-red-500':
                                                    errors.experience,
                                            },
                                        ]"
                                    >
                                        <option value="">
                                            –í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å
                                        </option>
                                        <option
                                            v-for="level in experienceLevels"
                                            :key="level.value"
                                            :value="level.value"
                                        >
                                            {{ level.label }}
                                        </option>
                                    </select>
                                    <p
                                        v-if="errors.experience"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.experience }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Captain Information -->
                        <div
                            class="bg-gray-800 rounded-xl p-8 border border-gray-700"
                        >
                            <h2
                                class="text-2xl font-bold mb-6 flex items-center gap-2"
                            >
                                <span class="text-3xl">üë®‚Äçüíº</span>
                                –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–∞–ø–∏—Ç–∞–Ω–∞
                            </h2>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="md:col-span-2">
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        –§–ò–û –∫–∞–ø–∏—Ç–∞–Ω–∞ *
                                    </label>
                                    <input
                                        type="text"
                                        v-model="formData.captainName"
                                        @input="clearError('captainName')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            {
                                                'border-red-500':
                                                    errors.captainName,
                                            },
                                        ]"
                                        placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                                    />
                                    <p
                                        v-if="errors.captainName"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.captainName }}
                                    </p>
                                </div>

                                <div>
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *
                                    </label>
                                    <input
                                        type="tel"
                                        v-model="formData.captainPhone"
                                        @input="clearError('captainPhone')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            {
                                                'border-red-500':
                                                    errors.captainPhone,
                                            },
                                        ]"
                                        placeholder="+7 (999) 123-45-67"
                                    />
                                    <p
                                        v-if="errors.captainPhone"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.captainPhone }}
                                    </p>
                                </div>

                                <div>
                                    <label
                                        class="block text-sm font-medium mb-2"
                                    >
                                        Email *
                                    </label>
                                    <input
                                        type="email"
                                        v-model="formData.captainEmail"
                                        @input="clearError('captainEmail')"
                                        :class="[
                                            'w-full px-4 py-3 bg-gray-700 border rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors',
                                            {
                                                'border-red-500':
                                                    errors.captainEmail,
                                            },
                                        ]"
                                        placeholder="captain@team.ru"
                                    />
                                    <p
                                        v-if="errors.captainEmail"
                                        class="text-red-400 text-sm mt-1"
                                    >
                                        {{ errors.captainEmail }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Tournament Selection -->
                        <div
                            class="bg-gray-800 rounded-xl p-8 border border-gray-700"
                        >
                            <h2
                                class="text-2xl font-bold mb-6 flex items-center gap-2"
                            >
                                <span class="text-3xl">üèÜ</span>
                                –í—ã–±–æ—Ä —Ç—É—Ä–Ω–∏—Ä–æ–≤
                            </h2>

                            <div class="space-y-4">
                                <label
                                    v-for="tournament in tournaments"
                                    :key="tournament.id"
                                    class="flex items-start gap-3 p-4 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors"
                                >
                                    <input
                                        type="checkbox"
                                        :value="tournament.id"
                                        v-model="formData.tournaments"
                                        @change="clearError('tournaments')"
                                        class="mt-1 w-5 h-5 text-primary-blue bg-gray-600 border-gray-500 rounded focus:ring-primary-blue focus:ring-2"
                                    />
                                    <div>
                                        <div class="font-semibold">
                                            {{ tournament.name }}
                                        </div>
                                        <div class="text-sm text-gray-400">
                                            {{ tournament.description }}
                                        </div>
                                    </div>
                                </label>
                            </div>
                            <p
                                v-if="errors.tournaments"
                                class="text-red-400 text-sm mt-2"
                            >
                                –í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç—É—Ä–Ω–∏—Ä
                            </p>
                        </div>

                        <!-- Additional Information -->
                        <div
                            class="bg-gray-800 rounded-xl p-8 border border-gray-700"
                        >
                            <h2
                                class="text-2xl font-bold mb-6 flex items-center gap-2"
                            >
                                <span class="text-3xl">üìù</span>
                                –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                            </h2>

                            <div>
                                <label class="block text-sm font-medium mb-2">
                                    –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –∫–æ–º–∞–Ω–¥–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
                                </label>
                                <textarea
                                    v-model="formData.additionalInfo"
                                    rows="4"
                                    class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent transition-colors resize-none"
                                    placeholder="–û–ø—ã—Ç —É—á–∞—Å—Ç–∏—è –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –æ—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è..."
                                ></textarea>
                            </div>
                        </div>

                        <!-- Agreement -->
                        <div
                            class="bg-gray-800 rounded-xl p-8 border border-gray-700"
                        >
                            <label
                                class="flex items-start gap-3 cursor-pointer"
                            >
                                <input
                                    type="checkbox"
                                    v-model="formData.agreement"
                                    @change="clearError('agreement')"
                                    :class="[
                                        'mt-1 w-5 h-5 text-primary-blue bg-gray-600 border rounded focus:ring-primary-blue focus:ring-2',
                                        { 'border-red-500': errors.agreement },
                                    ]"
                                />
                                <div class="text-sm">
                                    <span>–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å </span>
                                    <a
                                        href="#"
                                        class="text-primary-blue hover:text-accent-blue transition-colors"
                                    >
                                        –ø—Ä–∞–≤–∏–ª–∞–º–∏ —É—á–∞—Å—Ç–∏—è –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö
                                    </a>
                                    <span> –∏ </span>
                                    <a
                                        href="#"
                                        class="text-primary-blue hover:text-accent-blue transition-colors"
                                    >
                                        –ø–æ–ª–∏—Ç–∏–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                                    </a>
                                    <span> *</span>
                                </div>
                            </label>
                            <p
                                v-if="errors.agreement"
                                class="text-red-400 text-sm mt-2"
                            >
                                –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏–µ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
                            </p>
                        </div>

                        <!-- Submit Button -->
                        <div class="text-center">
                            <button
                                type="submit"
                                :disabled="isSubmitting"
                                :class="[
                                    'bg-gradient-to-r from-primary-blue to-primary-red text-white px-12 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg',
                                    {
                                        'opacity-50 cursor-not-allowed':
                                            isSubmitting,
                                    },
                                ]"
                            >
                                <span
                                    v-if="isSubmitting"
                                    class="flex items-center gap-2"
                                >
                                    <div
                                        class="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"
                                    ></div>
                                    –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏...
                                </span>
                                <span v-else>üöÄ –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —É—á–∞—Å—Ç–∏–µ</span>
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Info Section -->
            <section class="py-16 px-4 bg-gray-800">
                <div class="max-w-6xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center">
                        ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                    </h2>

                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-6">
                            <div class="bg-gray-700 rounded-xl p-6">
                                <h3 class="font-semibold mb-2">
                                    –ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–º–∞–Ω–¥–µ?
                                </h3>
                                <p class="text-gray-300 text-sm">
                                    –ú–∏–Ω–∏–º—É–º 15 –∏–≥—Ä–æ–∫–æ–≤, –≤–æ–∑—Ä–∞—Å—Ç –æ—Ç 18 –ª–µ—Ç,
                                    –±–∞–∑–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ –∏–≥—Ä—ã –≤ —Ö–æ–∫–∫–µ–π.
                                </p>
                            </div>

                            <div class="bg-gray-700 rounded-xl p-6">
                                <h3 class="font-semibold mb-2">
                                    –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —É—á–∞—Å—Ç–∏–µ?
                                </h3>
                                <p class="text-gray-300 text-sm">
                                    –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –≤–∑–Ω–æ—Å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 15,000‚ÇΩ –∑–∞
                                    —Å–µ–∑–æ–Ω. –í–∫–ª—é—á–∞–µ—Ç —É—á–∞—Å—Ç–∏–µ –≤–æ –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
                                    —Ç—É—Ä–Ω–∏—Ä–∞—Ö.
                                </p>
                            </div>

                            <div class="bg-gray-700 rounded-xl p-6">
                                <h3 class="font-semibold mb-2">
                                    –ö–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–µ–∑–æ–Ω?
                                </h3>
                                <p class="text-gray-300 text-sm">
                                    –ù–æ–≤—ã–π —Å–µ–∑–æ–Ω —Å—Ç–∞—Ä—Ç—É–µ—Ç –≤ —Å–µ–Ω—Ç—è–±—Ä–µ. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                                    –æ—Ç–∫—Ä—ã—Ç–∞ –∫—Ä—É–≥–ª—ã–π –≥–æ–¥.
                                </p>
                            </div>
                        </div>

                        <div class="space-y-6">
                            <div class="bg-gray-700 rounded-xl p-6">
                                <h3 class="font-semibold mb-2">
                                    –ù—É–∂–Ω–∞ –ª–∏ —Å–≤–æ—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞?
                                </h3>
                                <p class="text-gray-300 text-sm">
                                    –î–∞, –∫–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø–æ–ª–Ω—É—é
                                    —Ö–æ–∫–∫–µ–π–Ω—É—é —ç–∫–∏–ø–∏—Ä–æ–≤–∫—É —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
                                    –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
                                </p>
                            </div>

                            <div class="bg-gray-700 rounded-xl p-6">
                                <h3 class="font-semibold mb-2">
                                    –ö–∞–∫ –ø—Ä–æ—Ö–æ–¥—è—Ç –º–∞—Ç—á–∏?
                                </h3>
                                <p class="text-gray-300 text-sm">
                                    –ú–∞—Ç—á–∏ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º –Ω–∞ –ª–µ–¥–æ–≤—ã—Ö
                                    –∞—Ä–µ–Ω–∞—Ö –Ø—Ä–æ—Å–ª–∞–≤–ª—è. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã - 3
                                    –ø–µ—Ä–∏–æ–¥–∞ –ø–æ 20 –º–∏–Ω—É—Ç.
                                </p>
                            </div>

                            <div class="bg-gray-700 rounded-xl p-6">
                                <h3 class="font-semibold mb-2">
                                    –ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É?
                                </h3>
                                <p class="text-gray-300 text-sm">
                                    –õ–∏–≥–∞ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –æ—Ç 18 –ª–µ—Ç. –í–µ—Ä—Ö–Ω–∏—Ö
                                    –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–µ—Ç.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</template>

<script setup>
import { ref } from 'vue'
import { RouterLink } from 'vue-router'

const formData = ref({
    teamName: '',
    city: '',
    captainName: '',
    captainPhone: '',
    captainEmail: '',
    playersCount: '',
    experience: '',
    tournaments: [],
    additionalInfo: '',
    agreement: false,
})

const isSubmitting = ref(false)
const isSubmitted = ref(false)
const errors = ref({})

const tournaments = [
    {
        id: 'friendly',
        name: '–¢–æ–≤–∞—Ä–∏—â–µ—Å–∫–∏–µ —Ç—É—Ä–Ω–∏—Ä—ã',
        description: '–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä–∏—â–µ—Å–∫–∏–µ –º–∞—Ç—á–∏',
    },
    {
        id: 'victory',
        name: '–ö—É–±–æ–∫ –ü–æ–±–µ–¥—ã',
        description: '–ï–∂–µ–≥–æ–¥–Ω—ã–π –ø—Ä–µ—Å—Ç–∏–∂–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä',
    },
    {
        id: 'zvezda',
        name: '–ó–≤–µ–∑–¥–∞ –û—Ç–µ—á–µ—Å—Ç–≤–∞',
        description: '–ì–ª–∞–≤–Ω—ã–π —á–µ–º–ø–∏–æ–Ω–∞—Ç –ª–∏–≥–∏',
    },
    {
        id: 'seasonal',
        name: '–°–µ–∑–æ–Ω–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã',
        description: '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ–∑–æ–Ω–Ω—ã–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è',
    },
]

const experienceLevels = [
    { value: 'beginner', label: '–ù–∞—á–∏–Ω–∞—é—â–∏–µ (–¥–æ 1 –≥–æ–¥–∞)' },
    { value: 'amateur', label: '–õ—é–±–∏—Ç–µ–ª–∏ (1-3 –≥–æ–¥–∞)' },
    { value: 'experienced', label: '–û–ø—ã—Ç–Ω—ã–µ (3-5 –ª–µ—Ç)' },
    { value: 'professional', label: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã (5+ –ª–µ—Ç)' },
]

const clearError = field => {
    if (errors.value[field]) {
        errors.value[field] = undefined
    }
}

const validateForm = () => {
    errors.value = {}

    if (!formData.value.teamName.trim())
        errors.value.teamName = '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'
    if (!formData.value.city.trim()) errors.value.city = '–ì–æ—Ä–æ–¥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω'
    if (!formData.value.captainName.trim())
        errors.value.captainName = '–ò–º—è –∫–∞–ø–∏—Ç–∞–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'
    if (!formData.value.captainPhone.trim())
        errors.value.captainPhone = '–¢–µ–ª–µ—Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω'
    if (!formData.value.captainEmail.trim())
        errors.value.captainEmail = 'Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω'
    if (!formData.value.playersCount)
        errors.value.playersCount = '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'
    if (!formData.value.experience)
        errors.value.experience = '–£—Ä–æ–≤–µ–Ω—å –æ–ø—ã—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω'
    if (formData.value.tournaments.length === 0)
        errors.value.tournaments = ['–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç—É—Ä–Ω–∏—Ä']
    if (!formData.value.agreement) errors.value.agreement = true

    // Email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
    if (
        formData.value.captainEmail &&
        !emailRegex.test(formData.value.captainEmail)
    ) {
        errors.value.captainEmail = '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'
    }

    // Phone validation
    const phoneRegex = /^[\+]?[0-9\s\-\(\)]{10,}$/
    if (
        formData.value.captainPhone &&
        !phoneRegex.test(formData.value.captainPhone)
    ) {
        errors.value.captainPhone = '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞'
    }

    return Object.keys(errors.value).length === 0
}

const handleSubmit = async () => {
    if (!validateForm()) return

    isSubmitting.value = true

    try {
        // Simulate API call
        await new Promise(resolve => setTimeout(resolve, 2000))
        isSubmitted.value = true
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã:', error)
    } finally {
        isSubmitting.value = false
    }
}
</script>

<style scoped>
.text-gradient {
    background: linear-gradient(to right, #4f46e5, #ec4899);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
</style>