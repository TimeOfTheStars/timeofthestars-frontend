<template>
    <div class="min-h-screen bg-gray-900 text-white overflow-x-hidden mt-16">
        <Header />
        <section class="py-16 px-4 bg-gray-800">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">
                        üèí –ù–∞—à–∏ –∫–æ–º–∞–Ω–¥—ã
                    </h2>
                    <p class="text-xl text-gray-300">
                        ‚≠ê –ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –Ω–∞—à–µ–π –ª–∏–≥–∏ üèÜ
                    </p>
                </div>

                <div
                    v-if="tournamentTeamsData"
                    class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"
                >
                    <div
                        v-for="team in tournamentTeamsData"
                        :key="team.id"
                        class="bg-gray-700 rounded-xl p-6 card-hover text-center"
                    >
                        <TeamCard :team="team" />
                    </div>
                </div>
                <div v-else-if="error" class="text-center text-red-500">
                    –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–∞–Ω–¥.
                </div>
                <div v-else class="text-center">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–∞–Ω–¥...</div>
            </div>
        </section>
        <Footer />
    </div>
</template>

<script setup>
import { computed } from 'vue'
import { useHead } from '#imports'

useHead({
    title: '–ö–æ–º–∞–Ω–¥—ã - –í–†–ï–ú–Ø –ó–í–Å–ó–î',
    meta: [
        {
            name: 'description',
            content: '–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥-—É—á–∞—Å—Ç–Ω–∏—Ü –ª—é–±–∏—Ç–µ–ª—å—Å–∫–æ–π —Ö–æ–∫–∫–µ–π–Ω–æ–π –ª–∏–≥–∏ "–í–†–ï–ú–Ø –ó–í–Å–ó–î" –≤ –Ø—Ä–æ—Å–ª–∞–≤–ª–µ. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö, —Å–æ—Å—Ç–∞–≤—ã.',
        },
        {
            name: 'keywords',
            content: '—Ö–æ–∫–∫–µ–π, –∫–æ–º–∞–Ω–¥—ã, —è—Ä–æ—Å–ª–∞–≤–ª—å, —Ö–æ–∫–∫–µ–π–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –ª–∏–≥–∞, –≤—Ä–µ–º—è –∑–≤–µ–∑–¥',
        },
        { name: 'author', content: '–í–†–ï–ú–Ø –ó–í–Å–ó–î' },
        {
            property: 'og:title',
            content: '–ö–æ–º–∞–Ω–¥—ã - –í–†–ï–ú–Ø –ó–í–Å–ó–î',
        },
        {
            property: 'og:description',
            content: '–ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –Ω–∞—à–µ–π –ª–∏–≥–∏. –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö-—É—á–∞—Å—Ç–Ω–∏—Ü–∞—Ö.',
        },
        { property: 'og:type', content: 'website' },
    ],
    link: [
        {
            rel: 'canonical',
            href: 'https://timeofthestars.ru/teamsPage',
        },
    ],
})

const { data: turnirdata } = useFetch(
    'https://api.timeofthestars.ru/api/tournaments'
)

const tournamentTeamsData = computed(() => {
    if (!turnirdata.value || turnirdata.value.length === 0) {
        return { games: [], teams: [] }
    }
    return turnirdata.value[0].teams
})
</script>
